# AI Workflow Infrastructure - Example Environment Variables
# Copy this file to .env (same directory) and fill in real secrets.
# DO NOT commit your populated .env.

# Portal / Frontend
PUBLIC_PORTAL_URL=http://localhost:3002

# Nango Core Config
NANGO_HOST=https://api.nango.dev
NANGO_SECRET_KEY=sk_your_nango_secret_here

# Twilio via Nango
# provider_config_key must match the config you created in Nango dashboard (e.g. twilio_main)
NANGO_TWILIO_PROVIDER_CONFIG_KEY=twilio_main
# connection id is arbitrary string you choose to represent this Twilio account in Nango
NANGO_TWILIO_CONNECTION_ID=9d11a117-a1c6-4de2-9266-78bf4cfdc537
TWILIO_ACCOUNT_SID=ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
TWILIO_AUTH_TOKEN=your_twilio_auth_token
# E.164 number or Messaging Service SID (if using messaging service) for default SMS sender
TWILIO_FROM_NUMBER=+15551234567
DEFAULT_SMS_SENDER=${TWILIO_FROM_NUMBER}

# WhatsApp Cloud (Meta) via Nango
NANGO_WHATSAPP_PROVIDER_CONFIG_KEY=whatsapp_main
NANGO_WHATSAPP_CONNECTION_ID=whatsapp_conn_1
WHATSAPP_PHONE_NUMBER_ID=123456789012345
DEFAULT_WHATSAPP_SENDER=${WHATSAPP_PHONE_NUMBER_ID}

# Email via Nango
# Choose ONE provider_config_key: sendgrid_main OR outlook_main etc.
NANGO_EMAIL_PROVIDER_CONFIG_KEY=sendgrid_main
# Connection id for the email provider (must exist/imported in Nango)
NANGO_EMAIL_CONNECTION_ID=sendgrid_conn_1
# For SendGrid this is required as from address; for Outlook can be omitted if account default applies
DEFAULT_EMAIL_SENDER=noreply@example.com
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# LLM / OpenAI (Backend only)
# Provide an OpenAI API key to enable /api/llm/complete and /api/llm/stream endpoints.
OPENAI_API_KEY=sk-openai-your-key-here
# Optional defaults (override per request):
OPENAI_DEFAULT_MODEL=gpt-4o-mini
OPENAI_SYSTEM_PROMPT=You are an assistant.
LLM_RATE_LIMIT_PER_MINUTE=60
LLM_CACHE_ENABLED=true
# Comma-separated list of banned keywords for basic moderation
LLM_BANNED_TERMS=

# LLM / Anthropic Claude
# Optional: allow backend to route requests to Anthropic Claude models
ANTHROPIC_API_KEY=sk-ant-your-key-here
ANTHROPIC_DEFAULT_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_SYSTEM_PROMPT=You are Claude, an expert workflow assistant.

# LLM / Google Gemini
# Optional: allow backend to route requests to Google Gemini models
GEMINI_API_KEY=your-gemini-key-here
GEMINI_DEFAULT_MODEL=gemini-1.5-flash
GEMINI_SYSTEM_PROMPT=You are Gemini, an expert workflow assistant.

# Optional Supabase (if enabling DB layer)
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Demo flags
ALLOW_MOCK_AUTH=true
NEXT_PUBLIC_DEMO_MODE=false

# -------------------------------------------------------------------
# After populating .env, restart containers:
#   docker compose down
#   docker compose up -d --build api portal-ui-dev
# Then verify vars inside api container:
#   docker compose exec api env | grep -E "TWILIO|NANGO_TWILIO|EMAIL"
# -------------------------------------------------------------------
